/* ===============================
   Unified Calendar
   =============================== */

.calendar-card {
  background: var(--paper);
  border-radius: var(--radius);
  padding: 12px;
  overflow: hidden;
}

.calendar-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.system-title {
  font-weight: 700;
  font-size: 1.05rem;
}

.personal-title {
  font-size: 0.9rem;
  color: var(--accent);
}

.calendar-nav .nav-btn {
  background: transparent;
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 4px 8px;
  cursor: pointer;
  color: var(--text);
}

.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  gap: 6px;
  animation: fadeSlide 0.35s ease;
}

.day-header {
  text-align: center;
  font-weight: 700;
  font-size: 1rem;
}

#personalCalendar .day-cell {
    position: relative;
    display: flex; /* Single flex declaration */
    align-items: center;
    justify-content: center;
    height: 42px;
    cursor: pointer;
    overflow: hidden;
    background: var(--bg-soft);
    border-radius: var(--radius);
}

.day-cell.empty {
  background: transparent;
  cursor: default;
}

#personalCalendar .system-day,
#personalCalendar .personal-day {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    white-space: nowrap;
    line-height: 1;
    transition: none; /* Instant swap to prevent ghosting */
}

#personalCalendar .personal-day {
    display: none !important;
    font-weight: 700;
    font-size: 1.05rem;
    color: var(--accent);
}

#personalCalendar .system-day {
    display: block !important;
}

/* Desktop hover + Mobile toggle */
#personalCalendar .day-cell:hover .system-day,
#personalCalendar .day-cell.active .system-day {
    display: none !important;
}

#personalCalendar .day-cell:hover .personal-day,
#personalCalendar .day-cell.active .personal-day {
    display: block !important;
}

/* Today highlight */
.day-cell.today {
  outline: 2px solid var(--accent);
}

/* Animation */
@keyframes fadeSlide {
  from {
    opacity: 0;
    transform: translateX(12px);
  }

  to {
    opacity: 1;
    transform: translateX(0);
  }
}

#personalCalendar {
  display: none;
}

#personalCalendar.active {
  display: block;
}